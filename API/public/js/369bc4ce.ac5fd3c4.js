(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["369bc4ce"],{"16cd":function(e,t,a){},7763:function(e,t,a){"use strict";var i=a("16cd"),n=a.n(i);n.a},"936d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"search-page page flex"},[a("div",{staticClass:"container full-width"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"},[a("q-datetime",{attrs:{type:"date",placeholder:"开始时间"},model:{value:e.filters.startTime,callback:function(t){e.$set(e.filters,"startTime",t)},expression:"filters.startTime"}})],1),a("div",{staticClass:"col-2"},[a("q-datetime",{attrs:{type:"date",placeholder:"结束时间"},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}})],1),a("div",{staticClass:"col-2"},[a("q-input",{attrs:{placeholder:"机身条码/机器编号"},model:{value:e.filters.keyWord,callback:function(t){e.$set(e.filters,"keyWord",t)},expression:"filters.keyWord"}})],1),a("div",{staticClass:"col-2",staticStyle:{"text-align":"center"}},[a("q-btn",{attrs:{label:"查询",size:"md",color:"primary"},on:{click:function(t){e.getData()}}}),e._v(" \n        "),a("q-btn",{attrs:{label:"导出",size:"md",color:"primary"},on:{click:function(t){e.dowData()}}})],1)]),a("p",[e._v(" ")]),a("q-table",{attrs:{title:"机检记录",data:e.tableData,columns:e.columns,pagination:e.serverPagination,loading:e.loading,filter:e.filters,"row-key":"name"},on:{"update:pagination":function(t){e.serverPagination=t},request:e.queryData},scopedSlots:e._u([{key:"body-cell-detail",fn:function(t){return a("td",{},[a("q-btn",{attrs:{color:"info",label:"查看报告"},on:{click:function(a){e.showDetail(t)}}})],1)}}])})],1),a("q-modal",{attrs:{"content-css":"padding: 20px"},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[a("q-table",{attrs:{title:"机检报告",data:e.detailData,columns:e.detailColumns,"row-key":"name"}}),a("q-btn",{attrs:{color:"primary",label:"Close"},on:{click:function(t){e.opened=!1}}})],1)],1)},n=[];i._withStripped=!0;a("f751");var l=a("f490"),o={name:"automaticRecord-page",data:function(){return{opened:!1,filters:{startTime:"",endTime:"",keyWord:""},serverPagination:{page:1,rowsNumber:0},tableData:[],columns:[{name:"codeInfo",label:"机身条码",field:"codeInfo"},{name:"uniqueKey",label:"检测条码",field:"uniqueKey"},{name:"sourceDetect",label:"业务方",field:"sourceDetect"},{name:"machineNum",label:"检测机台",field:"machineNum"},{name:"detectStartTime",label:"检测开始时间",field:"detectStartTime"},{name:"detectEndTime",label:"检测结束时间",field:"detectEndTime"},{name:"totalTime",label:"总时效（S）",field:"totalTime"},{name:"detail",label:"详情",field:"detail"}],detailData:[],detailColumns:[{name:"name",label:"检测项",field:"name"},{name:"item",label:"检测结果",field:"item"}],loading:!1}},mounted:function(){var e=new Date,t=l["d"].addToDate(e,{days:-15});this.filters.startTime=t,this.filters.endTime=e,this.queryData({pagination:this.serverPagination,filter:this.filters})},methods:{getData:function(){this.serverPagination.page=1,this.queryData({pagination:this.serverPagination,filter:this.filters})},queryData:function(e){var t=this,a=e.pagination,i=e.filter,n=Object.assign({},i);n.pageIndex=a.page,n.pageSize=a.rowsPerPage||100,n.startTime=l["d"].formatDate(i.startTime,"YYYY-MM-DD")+" 00:00:01",n.endTime=l["d"].formatDate(i.endTime,"YYYY-MM-DD")+" 23:59:59",this.loading=!0,this.$http.post("/machineRecord",{data:n}).then(function(e){"0"===e._errCode&&(t.tableData=e.list,t.serverPagination=a,t.serverPagination.rowsNumber=+e.tatalCount),t.loading=!1}).catch(function(e){console.log("query data",e)})},showDetail:function(e){var t=this,a={uniqueKey:e.row.uniqueKey};this.$http.post("/machineDetails",{data:a}).then(function(e){"0"===e._errCode&&(t.detailData=e.details,t.opened=!0)}).catch(function(e){console.log("http machineDetails:",e)})},dowData:function(){var e=this.$util.objofURLParam({beginTime:l["d"].formatDate(this.filters.startTime,"YYYY-MM-DD")+" 00:00:01",endTime:l["d"].formatDate(this.filters.endTime,"YYYY-MM-DD")+" 23:59:59"}),t="http://product-line.huishoubao.com.cn/detectInfo/exportMachineDetectList";window.open(t+"?"+e)}}},s=o,r=(a("7763"),a("2877")),c=Object(r["a"])(s,i,n,!1,null,null,null);c.options.__file="automaticRecord.vue";t["default"]=c.exports}}]);